<!--
This file is auto-generated by scripts/generate_cli_docs.py using Typer.
Do not edit manually. Update command help text and rerun:
    uv run python scripts/generate_cli_docs.py
-->

# `nw`

Networka (nw)

A powerful multi-vendor CLI tool for automating network devices based on ssh protocol.
Built with async/await support and type safety in mind.

QUICK START:
  nw run sw-acc1 &#x27;/system/clock/print&#x27;  # Execute command
  nw run office_switches system_info    # Run sequence on group

For detailed help on any command: nw &lt;command&gt; --help
Default config directory: system app config (use --config to override)

**Usage**:

```console
$ nw [OPTIONS] COMMAND [ARGS]...
```

**Options**:

* `--version`: Show version information
* `-h, --help`: Show this message and exit
* `--inventory PATH`: Additional inventory path(s) to load (Nornir SimpleInventory/Containerlab). Repeatable.
* `--inventory-prefer TEXT`: Preferred inventory source when a device/group name is ambiguous. Use &#x27;config&#x27;, a filesystem path, or a discovered id like &#x27;clab-s3n&#x27;.

**Commands**:

* `info`: Show comprehensive information for...
* `run`: Execute a single command or a sequence on...
* `upload`: Upload a file to a device or to all...
* `download`: Download a file from a device or all...
* `diff`: Diff config, a command, or a sequence.
* `cli`: Open tmux with CLI panes for a device or...
* `list`: List network devices, groups, sequences,...
* `config`: Configuration management commands
* `backup`: Backup operations for network devices
* `firmware`: Firmware management operations
* `schema`: JSON schema management commands
* `sync`: Sync inventory from external sources

## `nw info`

Show comprehensive information for devices, groups, or sequences.

Supports comma-separated device names, group names, and sequence names.

Examples:
- nw info sw-acc1                    # Show device info
- nw info sw-acc1,sw-acc2           # Show multiple devices
- nw info access_switches           # Show group info
- nw info system_info               # Show sequence info (all vendors)
- nw info system_info --vendor cisco_iosxe  # Show vendor-specific commands
- nw info sw-acc1,access_switches,health_check  # Mixed types

**Usage**:

```console
$ nw info [OPTIONS] TARGETS
```

**Arguments**:

* `TARGETS`: Comma-separated device/group/sequence names from configuration  [required]

**Options**:

* `-c, --config PATH`: Configuration directory or file path  [default: /Users/md/Library/Application Support/networka]
* `--vendor TEXT`: Show vendor-specific commands for sequences (e.g., cisco_iosxe, mikrotik_routeros)
* `-o, --output-mode [default|light|dark|no-color|raw|json]`: Output decoration mode: default, light, dark, no-color, raw
* `-v, --verbose`: Enable verbose logging
* `-i, --interactive-auth`: Prompt for username and password interactively
* `--help`: Show this message and exit.

## `nw run`

Execute a single command or a sequence on a device or a group.

**Usage**:

```console
$ nw run [OPTIONS] TARGET COMMAND_OR_SEQUENCE
```

**Arguments**:

* `TARGET`: Device/group name, comma-separated list, or IP addresses. For IPs use --platform to specify device type  [required]
* `COMMAND_OR_SEQUENCE`: RouterOS command to execute or name of a configured sequence  [required]

**Options**:

* `-c, --config PATH`: Configuration directory or file path  [default: /Users/md/Library/Application Support/networka]
* `-v, --verbose`: Enable verbose logging
* `-s, --store-results`: Store command results to files
* `--results-dir TEXT`: Override results directory
* `-o, --output-mode [default|light|dark|no-color|raw|json]`: Output decoration mode: default, light, dark, no-color, raw
* `-i, --interactive-auth`: Prompt for username and password interactively
* `-p, --platform TEXT`: Device type when using IP addresses (e.g., mikrotik_routeros). Note: This specifies the network driver type, not hardware platform.
* `--port INTEGER`: SSH port when using IP addresses (default: 22)
* `-t, --transport TEXT`: Transport type to use for connections (currently only scrapli is supported). Defaults to configuration or scrapli.
* `--no-strict-host-key-checking`: Disable strict SSH host key checking (insecure, use only in lab environments)
* `--help`: Show this message and exit.

## `nw upload`

Upload a file to a device or to all devices in a group.

**Usage**:

```console
$ nw upload [OPTIONS] <device|group> LOCAL_FILE
```

**Arguments**:

* `<device|group>`: Device or group name from configuration  [required]
* `LOCAL_FILE`: Path to local file to upload  [required]

**Options**:

* `-r, --remote-name TEXT`: Remote filename (default: same as local)
* `--verify / --no-verify`: Verify upload by checking file exists  [default: verify]
* `--checksum-verify / --no-checksum-verify`: Verify file integrity using checksums (uses config default if not specified)  [default: no-checksum-verify]
* `-j, --max-concurrent INTEGER`: Maximum concurrent uploads when target is a group  [default: 5]
* `-c, --config PATH`: Configuration file path  [default: /Users/md/Library/Application Support/networka]
* `-v, --verbose`: Enable verbose output
* `--help`: Show this message and exit.

## `nw download`

Download a file from a device or all devices in a group.

**Usage**:

```console
$ nw download [OPTIONS] <device|group> REMOTE_FILE LOCAL_PATH
```

**Arguments**:

* `<device|group>`: Device or group name from configuration  [required]
* `REMOTE_FILE`: Remote filename on the device (e.g. export.rsc)  [required]
* `LOCAL_PATH`: Destination path. For groups, treated as a directory and files are saved under &lt;local_path&gt;/&lt;device&gt;/&lt;remote_file&gt;  [required]

**Options**:

* `--delete-remote / --keep-remote`: Delete remote file after successful download  [default: keep-remote]
* `--verify / --no-verify`: Verify download by comparing file sizes  [default: verify]
* `-c, --config PATH`: Configuration file path  [default: /Users/md/Library/Application Support/networka]
* `-v, --verbose`: Enable verbose output
* `--help`: Show this message and exit.

## `nw diff`

Diff config, a command, or a sequence.

Examples:
  - nw diff sw-acc1 config -b baseline/export_compact.txt
  - nw diff sw-acc1 &quot;/system/resource/print&quot; -b baseline/resource.txt
  - nw diff lab_devices system_info -b baseline_dir/
  - nw diff sw-acc1,sw-acc2 &quot;/system/resource/print&quot;   # device-to-device
  - nw diff sw-acc1,sw-acc2 config                      # device-to-device

**Usage**:

```console
$ nw diff [OPTIONS] TARGET SUBJECT
```

**Arguments**:

* `TARGET`: Device/group name or comma-separated list (e.g. &#x27;sw-1,lab_devices&#x27;)  [required]
* `SUBJECT`: Subject to diff: &#x27;config&#x27; for /export compact, a RouterOS command starting with &#x27;/&#x27;, or the name of a configured sequence.  [required]

**Options**:

* `-b, --baseline PATH`: Baseline file (for config/command) or directory (for sequence).
* `--ignore TEXT`: Regex to ignore lines; repeat for multiple patterns.
* `--save-current PATH`: Optional path to save the current fetched state (file or directory).
* `-H, --heuristic`: Use heuristic operational state diffing (ignores timestamps, counters, etc.).
* `-c, --config PATH`: Configuration file path  [default: /Users/md/Library/Application Support/networka]
* `-o, --output-mode [default|light|dark|no-color|raw|json]`: Output decoration mode: default, light, dark, no-color, raw
* `-v, --verbose`: Enable verbose logging
* `-s, --store-results`: Store diff outputs to files
* `--results-dir TEXT`: Override results directory
* `--help`: Show this message and exit.

## `nw cli`

Open tmux with CLI panes for a device or group.

Requires tmux installed and available on PATH; without tmux the command falls back to sequential SSH sessions.

Synchronized typing is ENABLED by default - keystrokes go to all panes.
Use --no-sync to disable at startup.

Quick controls:
- Ctrl+b, z: Zoom/unzoom focused pane (exits/enters sync mode)
- Ctrl+b + Arrow keys: Navigate panes
- Click any pane to focus it
- Ctrl+b, d: Detach session

When sync is on, all panes show red borders.

**Usage**:

```console
$ nw cli [OPTIONS] TARGET
```

**Arguments**:

* `TARGET`: Comma-separated device/group names or IP addresses  [required]

**Options**:

* `-c, --config PATH`: Path to config dir or YAML  [default: /Users/md/Library/Application Support/networka]
* `--auth [key-first|key|password|interactive]`: Authentication mode: key-first (default), key, password, interactive  [default: key-first]
* `--user TEXT`: Override username for SSH
* `--password TEXT`: Override password for SSH
* `--layout TEXT`: tmux layout to use: tiled, even-horizontal, even-vertical, main-horizontal, main-vertical  [default: tiled]
* `--session-name TEXT`: Custom session name
* `--window-name TEXT`: Custom window name
* `--sync / --no-sync`: Enable synchronized typing (default: on)  [default: sync]
* `--use-sshpass`: Use sshpass (same as --auth password)
* `--attach / --no-attach`: Attach after creating  [default: attach]
* `-v, --verbose`: Enable debug logging
* `-p, --platform TEXT`: Device type when using IP addresses (e.g., mikrotik_routeros). Note: This specifies the network driver type, not hardware platform.
* `--port INTEGER`: SSH port when using IP addresses (default: 22)
* `-t, --transport TEXT`: Transport type for connections (currently only scrapli is supported). Defaults to configuration or scrapli.
* `--no-strict-host-key-checking`: Disable strict SSH host key checking (insecure, use only in lab environments)
* `--help`: Show this message and exit.

## `nw list`

List network devices, groups, sequences, and platform information

**Usage**:

```console
$ nw list [OPTIONS] COMMAND [ARGS]...
```

**Options**:

* `--help`: Show this message and exit.

**Commands**:

* `devices`: List all configured network devices.
* `groups`: List all configured device groups and...
* `sequences`: List all available command sequences,...

### `nw list devices`

List all configured network devices.

**Usage**:

```console
$ nw list devices [OPTIONS]
```

**Options**:

* `-c, --config PATH`: Configuration file path  [default: /Users/md/Library/Application Support/networka]
* `-o, --output-mode [default|light|dark|no-color|raw|json]`: Output decoration mode: default, light, dark, no-color, raw
* `-v, --verbose`: Enable verbose logging
* `--help`: Show this message and exit.

### `nw list groups`

List all configured device groups and their members.

**Usage**:

```console
$ nw list groups [OPTIONS]
```

**Options**:

* `-c, --config PATH`: Configuration file path  [default: /Users/md/Library/Application Support/networka]
* `-o, --output-mode [default|light|dark|no-color|raw|json]`: Output decoration mode: default, light, dark, no-color, raw
* `-v, --verbose`: Show detailed information
* `--help`: Show this message and exit.

### `nw list sequences`

List all available command sequences, optionally filtered by vendor
or category.

**Usage**:

```console
$ nw list sequences [OPTIONS]
```

**Options**:

* `-c, --config PATH`: Configuration file path  [default: /Users/md/Library/Application Support/networka]
* `-v, --vendor TEXT`: Filter by vendor platform
* `--category TEXT`: Filter by sequence category
* `-o, --output-mode [default|light|dark|no-color|raw|json]`: Output decoration mode: default, light, dark, no-color, raw
* `--verbose`: Show detailed information
* `--help`: Show this message and exit.

## `nw config`

Configuration management commands

**Usage**:

```console
$ nw config [OPTIONS] COMMAND [ARGS]...
```

**Options**:

* `--help`: Show this message and exit.

**Commands**:

* `init`: Initialize a network toolkit configuration...
* `validate`: Validate the configuration file and show...
* `supported-types`: Show supported device types and platform...
* `update`: Update framework-provided configuration...

### `nw config init`

Initialize a network toolkit configuration in OS-appropriate location.

Creates a complete starter configuration with:
- .env file with credential templates
- config.yml with core settings
- devices/ with MikroTik and Cisco examples
- groups/ with tag-based and explicit groups
- sequences/ with global and vendor-specific sequences
- JSON schemas for YAML editor validation (optional)
- Shell completions (optional)
- Additional predefined sequences from GitHub (optional)

Default locations by OS:
- Linux: ~/.config/networka/
- macOS: ~/Library/Application Support/networka/
- Windows: %APPDATA%/networka/

The &#x27;nw&#x27; command will automatically find configurations in these locations.

**Usage**:

```console
$ nw config init [OPTIONS] [TARGET_DIR]
```

**Arguments**:

* `[TARGET_DIR]`: Directory to initialize (default: system config location for your OS)

**Options**:

* `-f, --force`: Overwrite existing files
* `-y, --yes`: Non-interactive: accept defaults
* `--dry-run`: Show actions without writing changes
* `--install-sequences / --no-install-sequences`: Install additional predefined vendor sequences from GitHub
* `--install-completions / --no-install-completions`: Install shell completion scripts
* `--shell TEXT`: Shell for completions (bash or zsh)
* `--activate-completions / --no-activate-completions`: Activate completions by updating shell rc file
* `--install-schemas / --no-install-schemas`: Install JSON schemas for YAML editor validation and auto-completion
* `-v, --verbose`: Enable verbose logging
* `--help`: Show this message and exit.

### `nw config validate`

Validate the configuration file and show any issues.

**Usage**:

```console
$ nw config validate [OPTIONS]
```

**Options**:

* `-c, --config PATH`: Configuration file path  [default: /Users/md/Library/Application Support/networka]
* `-o, --output-mode [default|light|dark|no-color|raw|json]`: Output decoration mode: default, light, dark, no-color, raw
* `-v, --verbose`: Show detailed validation information
* `--help`: Show this message and exit.

### `nw config supported-types`

Show supported device types and platform information.

**Usage**:

```console
$ nw config supported-types [OPTIONS]
```

**Options**:

* `-v, --verbose`: Show detailed information
* `--help`: Show this message and exit.

### `nw config update`

Update framework-provided configuration files.

Updates framework-managed sequence files to the latest version while
preserving user-created and modified files.

Protected files (never updated):
  - .env (credentials)
  - devices/* (user devices)
  - groups/* (user groups)
  - sequences/custom/* (user custom sequences)

Framework files (safe to update if unmodified):
  - sequences/*/common.yml (platform sequences)
  - sequences/sequences.yml (framework config)
  - schemas/* (JSON schemas)

Creates timestamped backup in ~/.config/networka/.backup/YYYYMMDD_HHMMSS/
before applying updates.

Manual rollback after an update:
  cp -r ~/.config/networka/.backup/20251016_153000/* ~/.config/networka/

List available backups:
  nw config update --list-backups

**Usage**:

```console
$ nw config update [OPTIONS]
```

**Options**:

* `-c, --config-dir PATH`: Configuration directory to update
* `--check`: Check for updates without applying them
* `--list-backups`: List available backup timestamps
* `--force`: Update even user-modified framework files
* `-y, --yes`: Skip confirmation prompts
* `-v, --verbose`: Enable verbose logging
* `--help`: Show this message and exit.

## `nw backup`

Backup operations for network devices

**Usage**:

```console
$ nw backup [OPTIONS] COMMAND [ARGS]...
```

**Options**:

* `--help`: Show this message and exit.

**Commands**:

* `config`: Backup device configuration.

### `nw backup config`

Backup device configuration.

Performs a configuration backup for the specified device or group.

**Usage**:

```console
$ nw backup config [OPTIONS] TARGET_NAME
```

**Arguments**:

* `TARGET_NAME`: Device or group name  [required]

**Options**:

* `--download / --no-download`: Download created backup/export files after running the sequence  [default: download]
* `--delete-remote / --keep-remote`: Delete remote backup/export files after successful download  [default: keep-remote]
* `-c, --config PATH`: Configuration file path  [default: /Users/md/Library/Application Support/networka]
* `-v, --verbose`: Enable verbose output
* `--help`: Show this message and exit.

## `nw firmware`

Firmware management operations

**Usage**:

```console
$ nw firmware [OPTIONS] COMMAND [ARGS]...
```

**Options**:

* `--help`: Show this message and exit.

**Commands**:

* `upgrade`: Upgrade firmware on network devices.
* `downgrade`: Downgrade firmware on network devices.
* `bios`: Upgrade BIOS on network devices.
* `vendors`: Show which vendors support firmware...

### `nw firmware upgrade`

Upgrade firmware on network devices.

Uploads and installs firmware upgrade on the specified device or group.

**Usage**:

```console
$ nw firmware upgrade [OPTIONS] TARGET_NAME FIRMWARE_FILE
```

**Arguments**:

* `TARGET_NAME`: Device or group name  [required]
* `FIRMWARE_FILE`: Path to firmware file  [required]

**Options**:

* `--precheck-sequence TEXT`: Pre-check sequence name  [default: pre_maintenance]
* `--skip-precheck`: Skip pre-check sequence
* `-c, --config PATH`: Configuration file path  [default: /Users/md/Library/Application Support/networka]
* `-v, --verbose`: Enable verbose output
* `--help`: Show this message and exit.

### `nw firmware downgrade`

Downgrade firmware on network devices.

Uploads and installs firmware downgrade on the specified device or group.

**Usage**:

```console
$ nw firmware downgrade [OPTIONS] TARGET_NAME FIRMWARE_FILE
```

**Arguments**:

* `TARGET_NAME`: Device or group name  [required]
* `FIRMWARE_FILE`: Path to firmware file  [required]

**Options**:

* `--precheck-sequence TEXT`: Pre-check sequence name  [default: pre_maintenance]
* `--skip-precheck`: Skip pre-check sequence
* `-c, --config PATH`: Configuration file path  [default: /Users/md/Library/Application Support/networka]
* `-v, --verbose`: Enable verbose output
* `--help`: Show this message and exit.

### `nw firmware bios`

Upgrade BIOS on network devices.

Upgrades device BIOS/RouterBOOT using platform-specific implementations.

**Usage**:

```console
$ nw firmware bios [OPTIONS] TARGET_NAME
```

**Arguments**:

* `TARGET_NAME`: Device or group name  [required]

**Options**:

* `--precheck-sequence TEXT`: Pre-check sequence name  [default: pre_maintenance]
* `--skip-precheck`: Skip pre-check sequence
* `-c, --config PATH`: Configuration file path  [default: /Users/md/Library/Application Support/networka]
* `-v, --verbose`: Enable verbose output
* `--help`: Show this message and exit.

### `nw firmware vendors`

Show which vendors support firmware operations.

Lists all supported vendors and their firmware operation capabilities.

**Usage**:

```console
$ nw firmware vendors [OPTIONS]
```

**Options**:

* `--help`: Show this message and exit.

## `nw schema`

JSON schema management commands

**Usage**:

```console
$ nw schema [OPTIONS] COMMAND [ARGS]...
```

**Options**:

* `--help`: Show this message and exit.

**Commands**:

* `install`: Update JSON schemas for YAML editor...
* `info`: Display JSON schema status.

### `nw schema install`

Update JSON schemas for YAML editor validation.

Regenerates the JSON schema files used by VS Code and other YAML editors
to provide validation and auto-completion for configuration files.

Creates/updates:
- schemas/network-config.schema.json (full config)
- schemas/device-config.schema.json (device collections)
- schemas/groups-config.schema.json (group collections)
- .vscode/settings.json (VS Code YAML validation)

**Usage**:

```console
$ nw schema install [OPTIONS]
```

**Options**:

* `-v, --verbose`
* `--help`: Show this message and exit.

### `nw schema info`

Display JSON schema status.

Shows the status of JSON schema files used for YAML validation in editors
like VS Code. These schemas provide auto-completion and error checking
for network toolkit configuration files.

**Usage**:

```console
$ nw schema info [OPTIONS]
```

**Options**:

* `-v, --verbose`
* `--help`: Show this message and exit.

## `nw sync`

Sync inventory from external sources

**Usage**:

```console
$ nw sync [OPTIONS] COMMAND [ARGS]...
```

**Options**:

* `--help`: Show this message and exit.

**Commands**:

* `ssh-config`: Sync devices from SSH config to YAML...

### `nw sync ssh-config`

Sync devices from SSH config to YAML inventory.

First run creates the file. Subsequent runs:

- Add new hosts from SSH config

- Update host/user/port if changed in SSH config

- Preserve manual edits (device_type, tags, description, etc.)

- Optionally prune hosts removed from SSH config (--prune)

Examples:

    nw sync ssh-config                    # Use defaults

    nw sync ssh-config --dry-run          # Preview changes

    nw sync ssh-config ~/.ssh/config.d/routers -o routers.yml

**Usage**:

```console
$ nw sync ssh-config [OPTIONS] [SSH_CONFIG_PATH]
```

**Arguments**:

* `[SSH_CONFIG_PATH]`: Path to SSH config file (default: ~/.ssh/config)

**Options**:

* `-o, --output PATH`: Output YAML inventory file (default: &lt;config&gt;/devices/ssh-hosts.yml)
* `--default-device-type TEXT`: Default device_type for new hosts  [default: generic]
* `--include TEXT`: Include hosts matching pattern (can repeat)
* `--exclude TEXT`: Exclude hosts matching pattern (can repeat)
* `--prune`: Remove hosts no longer in SSH config
* `--dry-run`: Show changes without writing
* `-v, --verbose`: Enable verbose output
* `--help`: Show this message and exit.
